(this["webpackJsonpbettertimetable-app"]=this["webpackJsonpbettertimetable-app"]||[]).push([[0],{13:function(e,t,a){e.exports=a(21)},19:function(e,t,a){},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(8),l=a.n(n),r=a(10),c=a(2),o=a(11),i=a(3),m=a(4),s=a(6),u=a(5),h=a(1),d=a(7),p=a(0),f=a.n(p),E=a(12),y=a.n(E),g=(a(19),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={data:a.props.data||[]},a.formatRows=a.formatRows.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"formatData",value:function(e){var t=[];return e.map((function(e){e.isvalid?(console.log(e.type),"Lec."===e.type?t.push(f.a.createElement("td",{style:{backgroundColor:"#F92672"},name:e.title},e.code,f.a.createElement("br",null),e.title,f.a.createElement("br",null),e.loc,f.a.createElement("br",null),e.weeks)):"Prac."===e.type?t.push(f.a.createElement("td",{style:{backgroundColor:"#7289da"},name:e.title},e.code,f.a.createElement("br",null),e.title,f.a.createElement("br",null),e.loc,f.a.createElement("br",null),e.weeks)):t.push(f.a.createElement("td",{style:{backgroundColor:"#FD971F"},name:e.title},e.code,f.a.createElement("br",null),e.title,f.a.createElement("br",null),e.loc,f.a.createElement("br",null),e.weeks))):t.push(f.a.createElement("td",{name:"blank cell"},"\xa0"))})),t}},{key:"formatRows",value:function(){var e=this,t=[];return console.log(this.state.data),this.props.data.days.map((function(a){t.push(f.a.createElement("tr",null,f.a.createElement("th",{name:a.day,scope:"Row"},a.day),e.formatData(a.timeslots)))})),t}},{key:"render",value:function(){return console.log(this.props.data,"memes"),f.a.createElement("div",{role:"table"},f.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),f.a.createElement("table",{name:"timetable"},f.a.createElement("thead",null,f.a.createElement("tr",null,f.a.createElement("th",{name:"day heading",scope:"col"},"Day"),f.a.createElement("th",{name:"nine o'clock heading",scope:"col"},"09:00"),f.a.createElement("th",{name:"half nine heading",scope:"col"},"09:30"),f.a.createElement("th",{name:"ten o'clock heading",scope:"col"},"10:00"),f.a.createElement("th",{name:"half ten heading",scope:"col"},"10:30"),f.a.createElement("th",{name:"eleven o'clock heading",scope:"col"},"11:00"),f.a.createElement("th",{name:"half eleven heading",scope:"col"},"11:30"),f.a.createElement("th",{name:"twelve o'clock heading",scope:"col"},"12:00"),f.a.createElement("th",{name:"half twelve heading",scope:"col"},"12:30"),f.a.createElement("th",{name:"one o'clock heading",scope:"col"},"13:00"),f.a.createElement("th",{name:"half one heading",scope:"col"},"13:30"),f.a.createElement("th",{name:"two o'clock heading",scope:"col"},"14:00"),f.a.createElement("th",{name:"half two heading",scope:"col"},"14:30"),f.a.createElement("th",{name:"three o'clock heading",scope:"col"},"15:00"),f.a.createElement("th",{name:"half three heading",scope:"col"},"15:30"),f.a.createElement("th",{name:"four o'clock heading",scope:"col"},"16:00"),f.a.createElement("th",{name:"half four heading",scope:"col"},"16:30"),f.a.createElement("th",{name:"five o'clock heading",scope:"col"},"17:00"),f.a.createElement("th",{name:"half five heading",scope:"col"},"17:30"))),f.a.createElement("tbody",null,this.formatRows())))}}]),t}(f.a.Component)),b=(a(20),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).filterType=function(e){return 0===e.isvalid||e.type!==a.state.type?{isvalid:0}:e},a.filterDays=function(e){return e.day!==a.state.day?{day:"",timeslots:[]}:e},a.filter=function(e){var t=e.days;return console.log(e),""!==a.state.day&&(t=t.map((function(e){return a.filterDays(e)}))),""!==a.state.type&&(t=t.map((function(e){return{day:e.day,timeslots:e.timeslots.map((function(e){return a.filterType(e)}))}}))),Object(o.a)({},e,{days:t})},a.state={course:localStorage.getItem("course"),year:localStorage.getItem("year"),semester:localStorage.getItem("semester"),data:localStorage.getItem("data")?JSON.parse(localStorage.getItem("data")).data:[],type:"",day:"",error:""},a.filterDays=a.filterDays.bind(Object(h.a)(a)),a.filterType=a.filterType.bind(Object(h.a)(a)),a.filter=a.filter.bind(Object(h.a)(a)),a.changeHandler=a.changeHandler.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"changeHandler",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(c.a)({},t,a)),localStorage.setItem(t,a)}},{key:"submitHandler",value:function(e){var t=this;e.preventDefault(),function(){var e=Object(r.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="http://18.203.138.11/"+t.state.course+"/"+t.state.year+"/"+t.state.semester,fetch(a).then((function(e){return e.json()})).then((function(e){t.setState({data:e}),t.setState({error:""}),localStorage.setItem("data",JSON.stringify({data:e}))})).catch((function(e){return t.setState({error:"Unable to retrieve specified timetable. Check inputs and try again."})})),console.log(t.state.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}},{key:"render",value:function(){return f.a.createElement("div",{role:"main"},f.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),f.a.createElement("h1",{title:"Search by Course code"},"Programme Search"),f.a.createElement("form",{method:"get",name:"search form"},f.a.createElement("div",{className:"form-field"},f.a.createElement("label",null,"Programme:",f.a.createElement("input",{value:this.state.course,type:"text",name:"course",placeholder:"Programme Code",onChange:this.changeHandler}))),f.a.createElement("div",{className:"form-field"},f.a.createElement("label",null,"Year of Study:",f.a.createElement("input",{value:this.state.year,type:"text",name:"year",placeholder:"Year",onChange:this.changeHandler}))),f.a.createElement("div",{className:"form-select"},f.a.createElement("label",null,"Semester:",f.a.createElement("select",{value:this.state.semester,name:"semester",onChange:this.changeHandler},f.a.createElement("option",{value:"1"},"1"),f.a.createElement("option",{value:"2"},"2")))),f.a.createElement("div",{className:"form-submit"},f.a.createElement("label",null,"Search",f.a.createElement("button",{name:"Search for course",onClick:this.submitHandler.bind(this)},"Search"))),f.a.createElement("div",{className:"form-filtering"},f.a.createElement("label",null,"Filter by Day:",f.a.createElement("select",{name:"day",onChange:this.changeHandler},f.a.createElement("option",{value:"",name:"no filter"},"None"),f.a.createElement("option",{value:"Mon",name:"Monday filter"},"Monday"),f.a.createElement("option",{value:"Tue",name:"Tuesday filter"},"Tuesday"),f.a.createElement("option",{value:"Wed",name:"Wednesday filter"},"Wednesday"),f.a.createElement("option",{value:"Thu",name:"Thursday filter"},"Thursday"),f.a.createElement("option",{value:"Fri",name:"Friday filter"},"Friday")))),f.a.createElement("div",{className:"form-filtering"},f.a.createElement("label",null,"Filter by Type:",f.a.createElement("select",{name:"type",onChange:this.changeHandler},f.a.createElement("option",{value:""},"None"),f.a.createElement("option",{value:"Lec."},"Lecture"),f.a.createElement("option",{value:"Prac."},"Practical"),f.a.createElement("option",{value:"Tut."},"Tutorial"))))),this.state.error?f.a.createElement("div",{role:"alert"},"Error - ",this.state.error):"",0!==this.state.data.length?f.a.createElement(g,{data:this.filter(this.state.data)}):""," ")}}]),t}(f.a.Component));y.a.render(f.a.createElement(b,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.42a13d19.chunk.js.map